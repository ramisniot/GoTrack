<div class="users">
  <%= render partial:"/layouts/flash_message" %>

  <div class="page-title users__title">Add a New User</div>

  <%= form_tag users_path, method: :post, onsubmit: 'return ValidateForm();', class: 'form' do %>
    <%= hidden_field_tag :authenticity_token, form_authenticity_token %>

    <div class="form-row form-row--flex">
      <div class="form-row form-row--inline">
        <div class="form-label form-label--title">First Name</div>
        <input
          type="text"
          name="user[first_name]"
          size="20"
          value="<%= @user.first_name %>"
          maxlength="<%= User::MAX_LENGTH[:first_name] %>"
          class="form-input form-input--full-width" />
      </div>

      <div class="form-row form-row--inline">
        <div class="form-label form-label--title">Last Name</div>
        <input
          type="text"
          name="user[last_name]"
          size="20"
          value="<%= @user.last_name %>"
          maxlength="<%= User::MAX_LENGTH[:last_name] %>"
          class="form-input form-input--full-width" />
      </div>
    </div>

    <div class="form-row form-row--flex">
      <div class="form-row form-row--inline">
        <div class="form-label form-label--title">Email</div>
        <input
          type="text"
          name="user[email]"
          title="Email"
          id="email"
          size="20"
          value="<%= @user.email %>"
          class="form-input form-input--full-width" />
      </div>

      <div class="form-row form-row--inline">
        <div class="form-label form-label--title">Permission Level</div>
        <div class="form-select-wrapper form__input">
          <%= select(
              :user,
              :role,
              options_for_roles(current_user.assignable_roles),
              { selected: 'admin' },
              { class: 'form-input form-input--full-width form-select' }) %>
          <i class="fa fa-caret-down form-select__arrow" aria-hidden="true"></i>
        </div>
      </div>
    </div>

    <div class="form-row form-row--flex">
      <div class="form-row form-row--inline">
        <div class="form-label form-label--title">Password</div>
        <input
          type="password"
          name="user[password]"
          size="20"
          value="<%= @user.password %>"
          class="form-input form-input--full-width" />
      </div>

      <div class="form-row form-row--inline">
        <div class="form-label form-label--title">Confirm Password</div>
        <input
          type="password"
          name="user[password_confirmation]"
          size="20"
          class="form-input form-input--full-width" />
      </div>
    </div>

    <div class="form-row form-row--flex">
      <div class="form-row form-row--inline"></div>
      <div class="form-row form-row--inline form-row--actions">
        <input class="button button--primary button--large button--inline button--right" type="submit" value="Add" />
        <%= link_to 'Cancel', users_path, class: 'button button--secondary button--inline button--right' %>
      </div>
    </div>
  <% end %>
</div>
